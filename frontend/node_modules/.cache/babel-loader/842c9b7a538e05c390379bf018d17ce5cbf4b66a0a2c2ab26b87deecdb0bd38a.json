{"ast":null,"code":"export const BASE_URL=\"https://notes-backend197-174534490336.us-central1.run.app\";export async function apiFetch(path){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const token=localStorage.getItem(\"token\");const headers={\"Content-Type\":\"application/json\",...(token&&{Authorization:`Bearer ${token}`}),...options.headers};const res=await fetch(BASE_URL+path,{...options,headers});if(res.status===401){localStorage.removeItem(\"token\");window.location.href=\"/login\";throw new Error(\"Unauthorized\");}if(!res.ok){const errorData=await res.json().catch(()=>({}));throw new Error(errorData.error||\"Request failed\");}return res.json();}","map":{"version":3,"names":["BASE_URL","apiFetch","path","options","arguments","length","undefined","token","localStorage","getItem","headers","Authorization","res","fetch","status","removeItem","window","location","href","Error","ok","errorData","json","catch","error"],"sources":["D:/Prak CC/Tugas 6/tugas5-docker-197/frontend/src/utils.js"],"sourcesContent":["export const BASE_URL = \"https://notes-backend197-174534490336.us-central1.run.app\";\r\n\r\nexport async function apiFetch(path, options = {}) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const headers = {\r\n    \"Content-Type\": \"application/json\",\r\n    ...(token && { Authorization: `Bearer ${token}` }),\r\n    ...options.headers,\r\n  };\r\n\r\n  const res = await fetch(BASE_URL + path, {\r\n    ...options,\r\n    headers,\r\n  });\r\n\r\n  if (res.status === 401) {\r\n    localStorage.removeItem(\"token\");\r\n    window.location.href = \"/login\";\r\n    throw new Error(\"Unauthorized\");\r\n  }\r\n\r\n  if (!res.ok) {\r\n    const errorData = await res.json().catch(() => ({}));\r\n    throw new Error(errorData.error || \"Request failed\");\r\n  }\r\n\r\n  return res.json();\r\n}\r\n"],"mappings":"AAAA,MAAO,MAAM,CAAAA,QAAQ,CAAG,2DAA2D,CAEnF,MAAO,eAAe,CAAAC,QAAQA,CAACC,IAAI,CAAgB,IAAd,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC/C,KAAM,CAAAG,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,OAAO,CAAG,CACd,cAAc,CAAE,kBAAkB,CAClC,IAAIH,KAAK,EAAI,CAAEI,aAAa,CAAE,UAAUJ,KAAK,EAAG,CAAC,CAAC,CAClD,GAAGJ,OAAO,CAACO,OACb,CAAC,CAED,KAAM,CAAAE,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACb,QAAQ,CAAGE,IAAI,CAAE,CACvC,GAAGC,OAAO,CACVO,OACF,CAAC,CAAC,CAEF,GAAIE,GAAG,CAACE,MAAM,GAAK,GAAG,CAAE,CACtBN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC,CAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CAC/B,KAAM,IAAI,CAAAC,KAAK,CAAC,cAAc,CAAC,CACjC,CAEA,GAAI,CAACP,GAAG,CAACQ,EAAE,CAAE,CACX,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAT,GAAG,CAACU,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,KAAO,CAAC,CAAC,CAAC,CAAC,CACpD,KAAM,IAAI,CAAAJ,KAAK,CAACE,SAAS,CAACG,KAAK,EAAI,gBAAgB,CAAC,CACtD,CAEA,MAAO,CAAAZ,GAAG,CAACU,IAAI,CAAC,CAAC,CACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}