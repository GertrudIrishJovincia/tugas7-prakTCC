{"ast":null,"code":"export const BASE_URL = \"https://notes-backend197-174534490336.us-central1.run.app\";\nexport async function apiFetch(path, options = {}) {\n  const token = localStorage.getItem(\"token\");\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    ...(token && {\n      Authorization: `Bearer ${token}`\n    }),\n    ...options.headers\n  };\n  const res = await fetch(BASE_URL + path, {\n    ...options,\n    headers\n  });\n  if (res.status === 401) {\n    localStorage.removeItem(\"token\");\n    window.location.href = \"/login\";\n    throw new Error(\"Unauthorized\");\n  }\n  if (!res.ok) {\n    const errorData = await res.json().catch(() => ({}));\n    throw new Error(errorData.error || \"Request failed\");\n  }\n  return res.json();\n}","map":{"version":3,"names":["BASE_URL","apiFetch","path","options","token","localStorage","getItem","headers","Authorization","res","fetch","status","removeItem","window","location","href","Error","ok","errorData","json","catch","error"],"sources":["D:/Prak CC/Tugas 6/tugas5-docker-197/frontend/src/utils.js"],"sourcesContent":["export const BASE_URL = \"https://notes-backend197-174534490336.us-central1.run.app\";\r\n\r\nexport async function apiFetch(path, options = {}) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const headers = {\r\n    \"Content-Type\": \"application/json\",\r\n    ...(token && { Authorization: `Bearer ${token}` }),\r\n    ...options.headers,\r\n  };\r\n\r\n  const res = await fetch(BASE_URL + path, {\r\n    ...options,\r\n    headers,\r\n  });\r\n\r\n  if (res.status === 401) {\r\n    localStorage.removeItem(\"token\");\r\n    window.location.href = \"/login\";\r\n    throw new Error(\"Unauthorized\");\r\n  }\r\n\r\n  if (!res.ok) {\r\n    const errorData = await res.json().catch(() => ({}));\r\n    throw new Error(errorData.error || \"Request failed\");\r\n  }\r\n\r\n  return res.json();\r\n}\r\n"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,2DAA2D;AAEnF,OAAO,eAAeC,QAAQA,CAACC,IAAI,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;EACjD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,OAAO,GAAG;IACd,cAAc,EAAE,kBAAkB;IAClC,IAAIH,KAAK,IAAI;MAAEI,aAAa,EAAE,UAAUJ,KAAK;IAAG,CAAC,CAAC;IAClD,GAAGD,OAAO,CAACI;EACb,CAAC;EAED,MAAME,GAAG,GAAG,MAAMC,KAAK,CAACV,QAAQ,GAAGE,IAAI,EAAE;IACvC,GAAGC,OAAO;IACVI;EACF,CAAC,CAAC;EAEF,IAAIE,GAAG,CAACE,MAAM,KAAK,GAAG,EAAE;IACtBN,YAAY,CAACO,UAAU,CAAC,OAAO,CAAC;IAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;IAC/B,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;EACjC;EAEA,IAAI,CAACP,GAAG,CAACQ,EAAE,EAAE;IACX,MAAMC,SAAS,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IACpD,MAAM,IAAIJ,KAAK,CAACE,SAAS,CAACG,KAAK,IAAI,gBAAgB,CAAC;EACtD;EAEA,OAAOZ,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}